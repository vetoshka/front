"use strict";(self.webpackChunkshop=self.webpackChunkshop||[]).push([[64],{5064:(w,u,i)=>{i.r(u),i.d(u,{HomeModule:()=>M});var a=i(6019),s=i(3649),t=i(2383),d=i(4522),l=i(5612),g=i(3174),p=i(2835),v=i(4799),P=i(9433);const b=new t.OlP("ProductsAPI",{providedIn:"any",factory:()=>"http://localhost:3000/products"});let h=(()=>{class o{constructor(e,n){this.http=e,this.productsUrl=n}getProducts(){return this.http.get(this.productsUrl).pipe((0,l.X)(3),(0,g.B)(),(0,p.K)(this.handleError))}getProduct(e){return this.http.get(`${this.productsUrl}/${e}`).pipe((0,l.X)(3),(0,g.B)(),(0,p.K)(this.handleError))}updateProduct(e){const n=`${this.productsUrl}/${e.id}`,c={headers:new d.WM({"Content-Type":"application/json"})};return this.http.put(n,e,c).pipe((0,p.K)(this.handleError))}createProduct(e){const n=this.productsUrl,c={headers:new d.WM({"Content-Type":"application/json"})};return this.http.post(n,e,c).pipe((0,p.K)(this.handleError))}deleteProduct(e){return this.http.delete(`${this.productsUrl}/${e.id}`).pipe((0,v.b)(()=>this.getProducts()),(0,p.K)(this.handleError))}handleError(e){return 0===e.status?console.error("An error occurred:",e.error):console.error(`Backend returned code ${e.status}, body was: `,e.error),(0,P._)(()=>new Error("Something bad happened; please try again later."))}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(d.eN),t.LFG(b))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"any"}),o})(),m=(()=>{class o{constructor(e,n,c){this.route=e,this.router=n,this.productObservableService=c}ngOnInit(){let e=this.route.snapshot.paramMap.get("id")||"";console.log(e),this.productObservableService.getProduct(e).subscribe(n=>{this.product=Object.assign({},n)})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(s.gz),t.Y36(s.F0),t.Y36(h))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-details"]],decls:10,vars:4,consts:[[1,"product"],[1,"product_image",3,"src"],[1,"product_name"],[1,"line"],[1,"product_price"],[1,"product_info"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"img",1),t.TgZ(2,"span",2),t._uU(3),t.qZA(),t._UZ(4,"div",3),t.TgZ(5,"span",4),t._uU(6),t.qZA(),t._UZ(7,"div",3),t.TgZ(8,"span",5),t._uU(9),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.s9C("src",n.product.image,t.LSH),t.xp6(2),t.Oqu(n.product.name),t.xp6(3),t.Oqu(n.product.price),t.xp6(3),t.hij("Amazing product! ",n.product.id,""))},styles:[".wrapper[_ngcontent-%COMP%]{position:relative}.title_funky[_ngcontent-%COMP%]{font-size:17px;font-weight:400}.product[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;min-height:120px;justify-content:space-between;margin-top:70px}.product_info[_ngcontent-%COMP%]{font-size:15px;font-weight:400}.line[_ngcontent-%COMP%]{height:1px;background:black;width:10%;margin:8px}.product_image[_ngcontent-%COMP%]{width:30%;height:30%;margin-top:60px}.buy[_ngcontent-%COMP%]{background:#121212;width:20%;text-align:center;color:#e4e2e2;font-weight:500;padding:10px 0;margin-top:10px}"]}),o})();var Z=i(6464);let T=(()=>{class o{constructor(e){this.router=e,this.addToCart=new t.vpe}ngOnInit(){}onDetailsRoute(){this.router.navigate(["home","details",this.product.id])}onAddToCart(){console.log("product was bought"),this.addToCart.emit(this.product)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(s.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-product"]],inputs:{product:"product"},outputs:{addToCart:"addToCart"},decls:12,vars:5,consts:[[1,"product"],[1,"product_image",3,"src"],[1,"product_name"],[1,"line"],[1,"product_price"],[3,"click"],[1,"buy",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"img",1),t.TgZ(2,"span",2),t._uU(3),t.qZA(),t._UZ(4,"div",3),t.TgZ(5,"span",4),t._uU(6),t.ALo(7,"currency"),t.qZA(),t.TgZ(8,"button",5),t.NdJ("click",function(){return n.onDetailsRoute()}),t._uU(9,"Details"),t.qZA(),t.TgZ(10,"button",6),t.NdJ("click",function(){return n.onAddToCart()}),t._uU(11,"Buy"),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.s9C("src",n.product.image,t.LSH),t.xp6(2),t.Oqu(n.product.name),t.xp6(3),t.Oqu(t.lcZ(7,3,n.product.price)))},pipes:[a.H9],styles:[".product[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;min-height:120px;justify-content:space-between}.product_image[_ngcontent-%COMP%]{width:100%;height:100%}.product_price[_ngcontent-%COMP%]{margin-bottom:10px}button[_ngcontent-%COMP%]{background:#121212;width:20%;text-align:center;color:#e4e2e2;font-weight:500;padding:5px 0;margin-top:10px;border:none}"]}),o})();function y(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"app-product",2),t.NdJ("addToCart",function(c){return t.CHM(e),t.oxw().onAddToCart(c)}),t.qZA()}2&o&&t.Q6J("product",r.$implicit)}let _=(()=>{class o{constructor(e,n){this.productObservableService=e,this.cartService=n}ngOnInit(){this.products$=this.productObservableService.getProducts()}onAddToCart(e,n=1){let c=Object.assign(Object.assign({},e),{quantity:n});this.cartService.getCartProducts().subscribe(C=>{C.find(A=>A.id===e.id)?this.cartService.increaseQuantity(c,1):this.cartService.createCart(c).subscribe()})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(h),t.Y36(Z.h))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-product-list"]],decls:3,vars:3,consts:[[1,"product_list","container"],[3,"product","addToCart",4,"ngFor","ngForOf"],[3,"product","addToCart"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.YNc(1,y,1,1,"app-product",1),t.ALo(2,"async"),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,n.products$)))},directives:[a.sg,T],pipes:[a.Ov],styles:[".product_list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);grid-column-gap:10px;grid-row-gap:10px;margin-top:90px}"]}),o})(),f=(()=>{class o{constructor(e){this.router=e}ngOnInit(){}onRedirectToCart(){this.router.navigate(["cart"])}onRedirectToLogIn(){this.router.navigate(["login"])}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(s.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-home"]],decls:19,vars:0,consts:[[1,"header_container","container"],[1,"header__title_container"],[1,"title_tote"],[1,"title_funky"],[1,"header__tools"],[1,"wrapper"],["placeholder","Search...","type","text",1,"header__search"],[1,"material-icons","search_span"],[1,"header__login",3,"click"],[1,"material-icons"],[1,"material-icons",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"header",0),t.TgZ(1,"div",1),t.TgZ(2,"h1",2),t._uU(3," Tote "),t.qZA(),t.TgZ(4,"h3",3),t._uU(5," Funky Printed Bags "),t.qZA(),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"div",5),t._UZ(8,"input",6),t.TgZ(9,"span",7),t._uU(10,"search"),t.qZA(),t.qZA(),t.TgZ(11,"div",8),t.NdJ("click",function(){return n.onRedirectToLogIn()}),t.TgZ(12,"span",9),t._uU(13," account_circle "),t.qZA(),t.TgZ(14,"span"),t._uU(15," Log in "),t.qZA(),t.qZA(),t.TgZ(16,"span",10),t.NdJ("click",function(){return n.onRedirectToCart()}),t._uU(17,"local_mall"),t.qZA(),t.qZA(),t.qZA(),t._UZ(18,"router-outlet"))},directives:[s.lC],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif}button[_ngcontent-%COMP%]{cursor:pointer}a[_ngcontent-%COMP%]{color:#000;text-decoration:none}.title_tote[_ngcontent-%COMP%]{font-size:47px;font-weight:600}.title_funky[_ngcontent-%COMP%]{font-size:17px;font-weight:400}.header__search[_ngcontent-%COMP%]{border:none;border-bottom:1px solid black;padding:0 0 10px 25px}[_ngcontent-%COMP%]::placeholder{color:#000;font-size:15px}.header_container[_ngcontent-%COMP%]{box-sizing:border-box;display:flex;width:100vw;justify-content:space-between;align-items:center;position:fixed;top:0px;background:white}.container[_ngcontent-%COMP%]{padding:20px 40px}.header__login[_ngcontent-%COMP%]{display:flex;align-items:center;background:none;border:none;justify-content:space-between;width:80px}.header__tools[_ngcontent-%COMP%]{display:flex;justify-content:space-between;min-width:320px}.search_span[_ngcontent-%COMP%]{position:absolute;top:5px;line-height:9px;left:calc(100% - 195px)}.wrapper[_ngcontent-%COMP%]{position:relative}.line[_ngcontent-%COMP%]{height:1px;background:black;width:10%;margin:8px}"]}),o})();const x=[{path:"",component:f,children:[{path:"details/:id",component:m},{path:"",component:_}]}];let O=(()=>{class o{}return o.components=[_,f,m],o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[s.Bz.forChild(x)],s.Bz]}),o})(),M=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[a.ez,O]]}),o})()}}]);